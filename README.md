# TicketFair

#### サイトURL
https://ticketfair.tk

#### コンセプト
公平なチケット販売ができる電子チケット販売サイトです。

####  目的
一般的な電子チケット販売サイトでは以下のような問題点があります。
- チケット販売の入場整理順が先着順のため整理番号の早いチケットを自動購入ツールをもつ人が独占している
- 先着販売ではなく抽選販売にしてもチケットを買い占め整理番号の遅いチケットを転売される
- チケットの発売時間に遅れると整理番号が遅くなるため購入意欲が削がれる


そこでTicketFairでは、チケットの整理番号をイベントの始まる直前に抽選順で発行することで独占や転売を防ぎ、またイベント前日に購入した人でも整理番号の早いチケットを購入する機会を得ることを可能にしました。

#### 使用技術
- Python
- Django
- PostgreSQL
- Nginx
- gunicorn
- psycopg2
- Stripe API
- Bootstrap
- JQuery
- AWS
  - VPC
  - EC2
  - Route53

#### 機能一覧
- ユーザー登録、ログイン機能
- イベント一覧機能
- チケット購入機能
- 検索機能
- タグ機能
- 入場用QRコード作成機能
- ハンバーガーメニュー

#### 使用方法
1. ヘッダーにある"GuestLogin"をクリックするとゲストとしてログインができます。
2. トップページからイベントを選ぶとイベント詳細ページに移ります。
3. チケットの枚数を選び"Checkout"ボタンを押すとStripeの決済テストページに移ります。
4. カード番号に4242 4242 4242と入力し、有効期限、セキュリティーコード、所有者名を適当に入力すると購入機能をテストすることができます。
5. 購入したチケットはヘッダーにある"MyTicket"から確認できます。
6. "チケットを表示"をクリックすると入場用のQRコードが表示されます。

#### 工夫した点
-  レスポンシブ対応するためスマホではヘッダーをハンバーガーメニューに切り替えるようにしました。
-  ゲストログイン機能をつけてサイト利用のハードルを下げることで知人に使ってもらい、フィードバックを得られやすいようにしました。
-  入場用QRコードを表示するチケット画面ではJavascriptで動きのある時計を表示することでスクリーンショットではないか確認できるようにしました。

#### 大変だった点
- イベント、チケット、タグなどモデルがたくさん存在するためデータベース設計が複雑になり苦労しましたが、本やUdemyの動画教材で改めて勉強することでより深くデータベース設計について理解することができました。
-  購入機能ではStripe APIの使用、購入履歴・マイチケットの作成、在庫状況の整理など多くの処理が必要となるため苦労しましたが、1つ1つ動作を確認しつつ進めることで機能を追加することができました。

####  今後の課題
- お気に入り機能(Ajax)
- テストコード
- N+1問題への対応
- BootstrapからTailwind CSSへの移行
- (入場用QRコード読み取り用のスマホアプリ)
